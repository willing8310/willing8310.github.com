--- 
meta: 
  _edit_last: "1"
  duoshuo_thread_id: "1252393222060113923"
  dsq_thread_id: "990332907"
status: publish
type: post
tags: 
- app
- iOS
- UIDevice
- !binary |
  5rOo5YaM

- !binary |
  55So5oi35ZCN

title: !binary |
  44CQ57uG6IqC44CR5rOo5YaM5pe25aaC5L2V4oCc54yc5Yiw4oCd55So5oi3
  6KaB5aGr5YaZ55qE55So5oi35ZCN

layout: post
published: true
---
用户第一次在我们的应用中注册时，需要填写用户名，那么，有没有可能自动获取到用户常用的用户名并自动填写到输入框呢？答案是肯定的（尼妹，没可能的话还要这篇文章做什么），可以利用UIDevice的name属性获得。

翻开苹果的开发文档，我们发现UIDevice类有个只读的name属性。这个name属性就是我们设备上“设置 》通用 》 关于本机 》名称”上显示的名称。我的设备上显示是【“wilson”的 iPhone】。呵呵，大家知道，我的英文名就是wilson。如果在注册的过程中用户名输入框里面的默认值是wilson，我会感觉很贴心。

很简单，我们通过[UIDevice currentDevice].name就能获取到【“wilson"的iPhone】了，然后再通过正则把其中的”引号、的、iPhone“等字符替换掉，就能获得【wilson】了。当然，其他人的name属性可能还有"iPad、英文的引用、's"等字符，也需要替换掉，为此，我写了个例子放在<a href="https://github.com/willing8310/WLAutofillUsername">Github</a> 上供参考。在里面，我把获取默认用户名的方法写在UIDevice的Category方法，使用时只需调用[[UIDevice currentDevice] username]语句就能得到默认用户名。

另外，细细声说一句，如果你把这个用户名放到通讯录里面去扫描，说不定还能扫到机主的邮箱和电话号码。邪恶了，这事不能说得太细，哥只能带你到这里了。:)

参考：<a href="http://www.quora.com/Square-Inc-1/How-does-Square-know-my-name-in-their-apps-registration-process">http://www.quora.com/Square-Inc-1/How-does-Square-know-my-name-in-their-apps-registration-process</a>
